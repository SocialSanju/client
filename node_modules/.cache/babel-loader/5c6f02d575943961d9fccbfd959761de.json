{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\amazon\\\\frontend\\\\src\\\\screens\\\\OrderScreen.js\",\n    _s = $RefreshSig$();\n\nimport Axios from \"axios\";\nimport { PayPalButton } from 'react-paypal-button-v2';\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { detailsOrder, payOrder } from '../actions/orderActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { ORDER_PAY_RESET } from \"../constants/orderContants\";\nimport { Razorpay } from 'razorpay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OrderScreen(props) {\n  _s();\n\n  const orderId = props.match.params.id;\n  const [sdkReady, setSdkReady] = useState(false);\n  const orderDetails = useSelector(state => state.orderDetails);\n  const {\n    order,\n    loading,\n    error\n  } = orderDetails;\n  const orderPay = useSelector(state => state.orderPay);\n  const {\n    loading: loadingPay,\n    error: errorPay,\n    success: successPay\n  } = orderPay;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const options = {\n      \"key\": \"YOUR_KEY_ID\",\n      // Enter the Key ID generated from the Dashboard\n      \"amount\": \"50000\",\n      // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\n      \"currency\": \"INR\",\n      \"name\": \"Acme Corp\",\n      \"description\": \"Test Transaction\",\n      \"image\": \"https://example.com/your_logo\",\n      \"order_id\": \"order_DBJOWzybf0sJbb\",\n      //This is a sample Order ID. Pass the `id` obtained in the previous step\n      \"handler\": function (response) {\n        alert(response.razorpay_payment_id);\n        alert(response.razorpay_order_id);\n        alert(response.razorpay_signature);\n      },\n      \"prefill\": {\n        \"name\": \"Gaurav Kumar\",\n        \"email\": \"gaurav.kumar@example.com\",\n        \"contact\": \"9999999999\"\n      },\n      \"notes\": {\n        \"address\": \"Razorpay Corporate Office\"\n      },\n      \"theme\": {\n        \"color\": \"#3399cc\"\n      }\n    };\n    const rzp1 = new Razorpay(options);\n    rzp1.on('payment.failed', function (response) {\n      alert(response.error.code);\n      alert(response.error.description);\n      alert(response.error.source);\n      alert(response.error.step);\n      alert(response.error.reason);\n      alert(response.error.metadata.order_id);\n      alert(response.error.metadata.payment_id);\n    });\n\n    document.getElementById('rzp-button1').onclick = function (e) {\n      rzp1.open();\n      e.preventDefault();\n    };\n  }, [dispatch, order, orderId, sdkReady]);\n\n  const successPaymentHandler = paymentResult => {\n    dispatch(payOrder(order, paymentResult));\n  };\n\n  return loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n    variant: \"danger\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Order \", order._id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-2\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 37\n                }, this), \" \", order.shippingAddress.fullName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 93\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 37\n                }, this), \" \", order.shippingAddress.address, \",\", order.shippingAddress.city, \",  \", order.shippingAddress.postalCode, \",\", order.shippingAddress.country]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), order.isDelivered ? /*#__PURE__*/_jsxDEV(MessageBox, {\n                variant: \"success\",\n                children: [\"Delivered at \", order.deliveredAt]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this) : /*#__PURE__*/_jsxDEV(MessageBox, {\n                variant: \"danger\",\n                children: \"Not Delivered\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Method:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 37\n                }, this), \" \", order.paymentMethod]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 33\n              }, this), order.isPaid ? /*#__PURE__*/_jsxDEV(MessageBox, {\n                variant: \"success\",\n                children: [\"Paid at \", order.paidAt]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(MessageBox, {\n                variant: \"danger\",\n                children: \"Not Paid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Order Items\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: order.orderItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: item.image,\n                        alt: item.name,\n                        className: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"min-30\",\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/product/${item.product}`,\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [item.qty, \" x $\", item.price, \" = $\", item.qty * item.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 46\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 41\n                  }, this)\n                }, item.product, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Order Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Item\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"$\", order.itemPrice.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Shipping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"$\", order.shippingPrice.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Tax\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"$\", order.taxPrice.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \" Order Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 46\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [\"$\", order.totalPrice.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 33\n            }, this), !order.isPaid && /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                id: \"rzp-button1\",\n                children: \"Pay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(OrderScreen, \"Qv4ZeYPkh4Hem7UMdpkFU9V5TLU=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = OrderScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderScreen\");","map":{"version":3,"sources":["C:/Users/DELL/Desktop/amazon/frontend/src/screens/OrderScreen.js"],"names":["Axios","PayPalButton","React","useEffect","useState","useDispatch","useSelector","Link","detailsOrder","payOrder","LoadingBox","MessageBox","ORDER_PAY_RESET","Razorpay","OrderScreen","props","orderId","match","params","id","sdkReady","setSdkReady","orderDetails","state","order","loading","error","orderPay","loadingPay","errorPay","success","successPay","dispatch","options","response","alert","razorpay_payment_id","razorpay_order_id","razorpay_signature","rzp1","on","code","description","source","step","reason","metadata","order_id","payment_id","document","getElementById","onclick","e","open","preventDefault","successPaymentHandler","paymentResult","_id","shippingAddress","fullName","address","city","postalCode","country","isDelivered","deliveredAt","paymentMethod","isPaid","paidAt","orderItems","map","item","image","name","product","qty","price","itemPrice","toFixed","shippingPrice","taxPrice","totalPrice"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { detailsOrder, payOrder } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { ORDER_PAY_RESET } from \"../constants/orderContants\";\r\nimport {Razorpay} from 'razorpay';\r\n\r\nexport default function OrderScreen(props) {\r\n    const orderId = props.match.params.id;\r\n    const [sdkReady, setSdkReady] = useState(false);\r\n    const orderDetails = useSelector((state) => state.orderDetails);\r\n    const { order, loading, error } = orderDetails;\r\n\r\n    const orderPay = useSelector((state) => state.orderPay);\r\n    const { loading: loadingPay, error: errorPay, success: successPay } = orderPay;\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const options = {\r\n            \"key\": \"YOUR_KEY_ID\", // Enter the Key ID generated from the Dashboard\r\n            \"amount\": \"50000\", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\r\n            \"currency\": \"INR\",\r\n            \"name\": \"Acme Corp\",\r\n            \"description\": \"Test Transaction\",\r\n            \"image\": \"https://example.com/your_logo\",\r\n            \"order_id\": \"order_DBJOWzybf0sJbb\", //This is a sample Order ID. Pass the `id` obtained in the previous step\r\n            \"handler\": function (response){\r\n                alert(response.razorpay_payment_id);\r\n                alert(response.razorpay_order_id);\r\n                alert(response.razorpay_signature)\r\n            },\r\n            \"prefill\": {\r\n                \"name\": \"Gaurav Kumar\",\r\n                \"email\": \"gaurav.kumar@example.com\",\r\n                \"contact\": \"9999999999\"\r\n            },\r\n            \"notes\": {\r\n                \"address\": \"Razorpay Corporate Office\"\r\n            },\r\n            \"theme\": {\r\n                \"color\": \"#3399cc\"\r\n            }\r\n        };\r\n        \r\n        const rzp1 = new Razorpay(options);\r\n        rzp1.on('payment.failed', function (response){\r\n                alert(response.error.code);\r\n                alert(response.error.description);\r\n                alert(response.error.source);\r\n                alert(response.error.step);\r\n                alert(response.error.reason);\r\n                alert(response.error.metadata.order_id);\r\n                alert(response.error.metadata.payment_id);\r\n        });\r\n        document.getElementById('rzp-button1').onclick = function(e){\r\n            rzp1.open();\r\n            e.preventDefault();\r\n        }\r\n        \r\n       \r\n    }, [dispatch, order, orderId, sdkReady]);\r\n\r\n    const successPaymentHandler = (paymentResult) => {\r\n        dispatch(payOrder(order, paymentResult));\r\n    };\r\n\r\n    return loading ? (\r\n    <LoadingBox></LoadingBox>\r\n    ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n    ) : (\r\n        <div>\r\n            <h1>Order {order._id}</h1>\r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <ul>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Shipping</h2>\r\n                                <p>\r\n                                    <strong>Name:</strong> {order.shippingAddress.fullName} <br />\r\n                                    <strong>Address:</strong> {order.shippingAddress.address},\r\n                                    {order.shippingAddress.city},  {order.shippingAddress.postalCode},\r\n                                    {order.shippingAddress.country}\r\n                                </p>\r\n                                { order.isDelivered ? ( \r\n                                <MessageBox variant=\"success\">\r\n                                    Delivered at {order.deliveredAt}\r\n                                </MessageBox>\r\n                                ) : ( \r\n                                <MessageBox variant=\"danger\">Not Delivered</MessageBox> \r\n                                )}\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Payment</h2>\r\n                                <p>\r\n                                    <strong>Method:</strong> {order.paymentMethod}\r\n                                </p>\r\n                                {order.isPaid ? (\r\n                                    <MessageBox variant=\"success\">\r\n                                        Paid at {order.paidAt}\r\n                                    </MessageBox>\r\n                                ) : (\r\n                                    <MessageBox variant=\"danger\">\r\n                                        Not Paid\r\n                                    </MessageBox>\r\n                                )}\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                        <div className=\"card card-body\">\r\n                                <h2>Order Items</h2>\r\n                                <ul>\r\n                            {\r\n                                order.orderItems.map((item) => (\r\n                                    <li key={item.product}>\r\n                                        <div className=\"row\">\r\n                                            <div>\r\n                                                <img src={item.image} alt={item.name} className=\"small\"></img>\r\n                                            </div>\r\n                                            <div className=\"min-30\">\r\n                                                <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                             </div>\r\n                                             \r\n                                             <div>\r\n                                                 {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                                             </div>\r\n                                           \r\n                                        </div>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                        <div className=\"card card-body\">\r\n                            <ul>\r\n                                <li>\r\n                                    <h2>Order Summary</h2>\r\n                                </li>\r\n                                <li>\r\n                                    <div className=\"row\">\r\n                                        <div>Item</div>\r\n                                        <div>${order.itemPrice.toFixed(2)}</div>\r\n                                    </div>\r\n                                </li>\r\n                                <li>\r\n                                    <div className=\"row\">\r\n                                        <div>Shipping</div>\r\n                                        <div>${order.shippingPrice.toFixed(2)}</div>\r\n                                    </div>\r\n                                </li>\r\n                                <li>\r\n                                    <div className=\"row\">\r\n                                        <div>Tax</div>\r\n                                        <div>${order.taxPrice.toFixed(2)}</div>\r\n                                    </div>\r\n                                </li>\r\n                                <li>\r\n                                    <div className=\"row\">\r\n                                        <div><strong> Order Total</strong></div>\r\n                                        <div>\r\n                                            <strong>\r\n                                                ${order.totalPrice.toFixed(2)}\r\n                                            </strong>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                {\r\n                                    !order.isPaid && (\r\n                                        <li>\r\n                                           \r\n                                           <button id=\"rzp-button1\">Pay</button>\r\n                                               \r\n                                        </li>\r\n                                    )\r\n                                }\r\n                            </ul>\r\n                        </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}